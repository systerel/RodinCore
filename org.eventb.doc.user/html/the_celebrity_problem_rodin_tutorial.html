<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Content generated by Mediawiki and mw2html -->
<html dir="ltr" lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
				<meta content="The Celebrity Problem (Rodin Tutorial),A First Example: The Birthday Book (Rodin Tutorial),Anatomy of a Machine (Rodin User Manual),Customizing a perspective suitable for RODIN (Rodin Tutorial),Index (Rodin Tutorial),Project (Rodin User Manual),The Event-B Explorer (Rodin User Manual),The Proving Perspective (Rodin User Manual)" name="keywords" />
		<link href="http://wiki.event-b.org/favicon.ico" rel="shortcut icon" />
		<link href="http://wiki.event-b.org/opensearch_desc.php" rel="search" title="Event-B (English)" type="application/opensearchdescription+xml" />
<link href="http://wiki.event-b.org/index.php?title=Special:Recentchanges&amp;feed=rss" rel="alternate" title="Event-B RSS Feed" type="application/rss+xml" />
<link href="http://wiki.event-b.org/index.php?title=Special:Recentchanges&amp;feed=atom" rel="alternate" title="Event-B Atom Feed" type="application/atom+xml" />
		<title>The Celebrity Problem (Rodin Tutorial) - Event-B</title>
		<style media="screen, projection" type="text/css">/*<![CDATA[*/
			@import "shared.css";
			@import "main.css";
		/*]]>*/</style>
		<link href="commonprint.css" media="print" rel="stylesheet" type="text/css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "ie50fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "ie55fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "ie60fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "ie70fixes.css";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes.js_116"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type="text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/skins";
var wgArticlePath = "/index.php/$1";
var wgScriptPath = "";
var wgScript = "/index.php";
var wgServer = "http://wiki.event-b.org";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "The_Celebrity_Problem_(Rodin_Tutorial)";
var wgTitle = "The Celebrity Problem (Rodin Tutorial)";
var wgAction = "view";
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
var wgArticleId = "83";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "6582";
var wgVersion = "1.12.0";
var wgEnableAPI = true;
var wgEnableWriteAPI = true;
/*]]>*/</script>
                
		<script src="wikibits.js_116" type="text/javascript"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script src="ajax.js_116" type="text/javascript"></script>
		<script src="http://wiki.event-b.org/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook" type="text/javascript"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "http://wiki.event-b.org/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "http://wiki.event-b.org/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "http://wiki.event-b.org/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
	</head>
<body class="mediawiki ns-0 ltr page-The_Celebrity_Problem_Rodin_Tutorial">
	<div id="globalWrapperHacked">
		<div id="column-content">
	<div id="content">
		<a id="top" name="top"></a>
				<h1 class="firstHeading">The Celebrity Problem (Rodin Tutorial)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Event-B</h3>
			<!-- ('div', {'id': 'contentSub'}) ('/div', {}) -->
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<div class="navigation"><table border="2" cellpadding="3" cellspacing="4" rules="all" style="border:2px solid #999999; margin:1em 1em 1em 0;"><tr><td style="vertical-align:sub;"><b>&lt;</b><small>prev:</small> <a href="a_first_example_the_birthday_book_rodin_tutorial.html" title="A First Example: The Birthday Book (Rodin Tutorial)">A First Example: The Birthday Book</a></td> <td style="vertical-align:sub;"><b>&gt;</b><small>next:</small> <a href="customizing_a_perspective_suitable_for_rodin_rodin_tutorial.html" title="Customizing a perspective suitable for RODIN (Rodin Tutorial)">Customizing a perspective suitable for RODIN</a></td> <td style="vertical-align:sub;"><b>^</b><small>up:</small> <a href="index_rodin_tutorial1.html" title="Index (Rodin Tutorial)">Index</a></td></tr></table></div><div>
<p><br />
The next model that you will work with is the so-called celebrity problem. In the setting for this problem, we have a “knows” relation. This relation is defined so that
</p>
<ul><li> no one knows himself,
</li><li> the celebrity knows nobody, but
</li><li> everybody knows the celebrity.
</li></ul>
<p>The goal is to find the celebrity. The provided development, once completed, yields a linear-time algorithm for the problem.
</p>
<a name="Modeling"></a><h2> <span class="mw-headline"> Modeling </span></h2>
<ol><li> Make sure that you have no existing Project named <tt>Celebrity</tt>. If you do, then <a href="http://wiki.event-b.org/index.php/Project_%28Rodin_User_Manual%29#Changing_the_Name_of_a_Project" title="Project (Rodin User Manual)">rename it (Section 1.7 in the Manual)</a>. Then import the archive file <a class="external text" href="http://sourceforge.net/projects/rodin-b-sharp/files/Doc_%20Tutorial/1.1/Celebrity.zip/download" rel="nofollow" title="http://sourceforge.net/projects/rodin-b-sharp/files/Doc_%20Tutorial/1.1/Celebrity.zip/download"><tt>Celebrity.zip</tt></a>. For this, choose “Import…” in the File menu, and then select “Existing Projects into Workspace”. Then, select the according archive file. (Read more on importing projects in <a href="http://wiki.event-b.org/index.php/Project_%28Rodin_User_Manual%29#Importing_a_Project" title="Project (Rodin User Manual)">section 1.6 of the Manual</a>)
</li><li> The tool takes a few seconds to extract and load all the files. Once it is done, it shows that there are a few problems with this project. In the first part of this section, our goal is to fix these problems and conclude the proofs.
</li><li> First of all, we take a look at the warning stating that the event label "celebrity" is misused. Double-click on the warning in the Problem Window to open the <tt>celebrity_1</tt> machine. The problem is that it is not declared as a refinement. Expand the event and add a field "Refines" (with + icon), and select the event <tt>celebrity</tt>. This declares that the event is a refinement of an event with the same name in the abstract machine. As this is the case here, we can now save the project and the warning disappears. (If the event in the abstract machine had a different name, you would have to edit it. For more on this issue, see <a href="http://wiki.event-b.org/index.php/Anatomy_of_a_Machine_%28Rodin_User_Manual%29#Abstract_Event" title="Anatomy of a Machine (Rodin User Manual)">Section 3.8.1 of the Manual</a>).
</li><li> Next, we deal with the other warnings. The three remaining warnings state that witnesses are missing. In any abstract event that uses parameters, if the concrete event has no parameter with the same name, the tool needs a witness so that it notices what value the parameter should take. Witnesses are also needed for variables that have a non-deterministic assignment in an abstract event and do not appear in the concrete model. <a href="http://wiki.event-b.org/index.php/Anatomy_of_a_Machine_%28Rodin_User_Manual%29#Witnesses" title="Anatomy of a Machine (Rodin User Manual)">To create the witness (Section 3.8.4 of the Manual is a little different from current version. please look WITH tag.)</a>, double-click on the warning to open the concrete model (here <tt>Celebrity_2</tt>). Then, expand the “celebrity” event and add a "WITH"(witness) with the + icon.
</li><li> A default witness wit1 has been created, with a default value <img alt="\top" class="tex" src="images/math_95c7.png" /> (e.g. the predicate "true") which we need to change. Its name will have to be <span class="texhtml"><i>x</i></span> if we want it to be a witness for the parameter <span class="texhtml"><i>x</i></span>. Next, for the content. If we switch between the two machines (either by pressing Ctrl+F6 or by clicking on their tabs), we see that the abstract event has the assignment <img alt="r \bcmeq x" class="tex" src="images/math_9345.png" />, while the concrete one has the assignment <img alt="r \bcmeq b" class="tex" src="images/math_2a6f.png" />. So, <span class="texhtml"><i>x</i>:<i>x</i> = <i>b</i></span> is the witness. Edit the Content and save the file. One warning will disappear, two to go.
</li><li> Try completing the other two witnesses on your own. A hint: Both witnesses are simple equalities, and both can be found by comparing the third guard of the abstract event with the second guard of the concrete one. Remember to give the witness the name of the variable it stands for. If you completed this step correctly, there should be no warning, info or error left on the Problems window.
</li></ol>
<a name="Proving"></a><h2> <span class="mw-headline"> Proving </span></h2>
<ol><li> All we have to do now is prove. Switch to Proving Perspective. Browsing around in the Event-B Explorer (<a href="http://wiki.event-b.org/index.php/The_Event-B_Explorer_%28Rodin_User_Manual%29" title="The Event-B Explorer (Rodin User Manual)">Section 5 of the Manual</a> shows you how), you can see that the auto-prover did quite a good job. If you have chosen the witnesses correctly, all except for three proofs already should be completed. Except for the last one of them, all of them could be proved with a different external prover, but in order to learn a few new techniques, we will prove them with the p0 prover.
</li><li> Let’s start with the proof <tt>remove_1/inv2/INV</tt> of <tt>Celebrity_1</tt>. In order to prove the statement, it suffices to prove <img alt="x \neq c" class="tex" src="images/math_0075.png" />. so type this into the proof control and press the Add Hypothesis button (ah). Now, press p0 until it does not get you any further. Now, try selecting the right hypotheses by yourself in order to complete the proof. If you cannot find it, you may also just select all hypotheses.
</li><li> In order to move to the next proof obligation, you may also use the Next Undischarged PO button of the Proof Control. The next proof can be solved the same way as the last one. 
</li><li> In the proof in <tt>Celebrity_2</tt>, you have to fill in an existential quantifier. First, look in the list of hypothesis if you find any variable that is in P, and select that hypothesis. Then, instantiate <span class="texhtml"><i>b</i>'</span> and <span class="texhtml"><i>R</i>'</span> correctly (For instance, if you want to instantiate <span class="texhtml"><i>b</i>'</span> with <span class="texhtml"><i>c</i></span>, then <img alt="P \backslash \{ c\} " class="tex" src="images/math_be5c.png" /> is a good choice for <span class="texhtml"><i>R</i>'</span>) by typing the instantiations in the <a href="http://wiki.event-b.org/index.php/The_Proving_Perspective_%28Rodin_User_Manual%29#Goal_and_Selected_Hypotheses" title="The Proving Perspective (Rodin User Manual)">Goal Window</a> and then clicking on the red existential quantifier. Now, all open branches of the proof tree can be proved with p0. After this, we have completed all the proofs, and the model is ready for use.
</li></ol>
</div>
<div class="navigation"><table border="2" cellpadding="3" cellspacing="4" rules="all" style="border:2px solid #999999; margin:1em 1em 1em 0;"><tr><td style="vertical-align:sub;"><b>&lt;</b><small>prev:</small> <a href="a_first_example_the_birthday_book_rodin_tutorial.html" title="A First Example: The Birthday Book (Rodin Tutorial)">A First Example: The Birthday Book</a></td> <td style="vertical-align:sub;"><b>&gt;</b><small>next:</small> <a href="customizing_a_perspective_suitable_for_rodin_rodin_tutorial.html" title="Customizing a perspective suitable for RODIN (Rodin Tutorial)">Customizing a perspective suitable for RODIN</a></td> <td style="vertical-align:sub;"><b>^</b><small>up:</small> <a href="index_rodin_tutorial1.html" title="Index (Rodin Tutorial)">Index</a></td></tr></table></div>

<!-- 
NewPP limit report
Preprocessor node count: 115/1000000
Post-expand include size: 2054/2097152 bytes
Template argument size: 928/2097152 bytes
-->

<!-- Saved in parser cache with key mediawiki_eventb:pcache:idhash:83-0!1!0!!en!2!edit=0 and timestamp 20110515190713 -->
<div class="printfooter">
Retrieved from "<a href="">http://wiki.event-b.org/index.php/The_Celebrity_Problem_%28Rodin_Tutorial%29</a>"</div>
			<div id="catlinks"><p class="catlinks"><a href="http://wiki.event-b.org/index.php/Special:Categories" title="Special:Categories">Categories</a>: <span dir="ltr"><a href="http://wiki.event-b.org/index.php/Category:User_documentation" title="Category:User documentation">User documentation</a></span> | <span dir="ltr"><a href="http://wiki.event-b.org/index.php/Category:Rodin_Platform" title="Category:Rodin Platform">Rodin Platform</a></span> | <span dir="ltr"><a href="http://wiki.event-b.org/index.php/Category:Tutorial" title="Category:Tutorial">Tutorial</a></span></p></div>			<!-- end content --><!-- ('div', {'class': 'visualClear'}) ('/div', {}) --></div></div></div>
    <div id="column-one">
      <!-- ('div', {'id': 'p-cactions', 'class': 'portlet'}) ('/div', {}) -->
      <!-- ('div', {'class': 'portlet', 'id': 'p-personal'}) ('/div', {}) -->
      <!-- ('div', {'class': 'portlet', 'id': 'p-logo'}) ('/div', {}) -->
      <div class="portlet" id="p-nav">
  
      </div>
      <!-- ('div', {'id': 'p-search', 'class': 'portlet'}) ('/div', {}) -->
      <!-- ('div', {'class': 'portlet', 'id': 'p-tb'}) ('/div', {}) -->
    </div>
    <!-- end left column -->
  <!-- end of the left (by default at least) column -->
			<!-- ('div', {'class': 'visualClear'}) ('/div', {}) -->
			<div id="footerHacked">
				<ul id="f-list">
				<li id="lastmod"> This page was last modified 15:11, 13 August 2010.</li>
				<li id="viewcount">This page has been accessed 3,798 times.</li>
				<li id="privacy"><a href="http://wiki.event-b.org/index.php/Event-B:Privacy_policy" title="Event-B:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="http://wiki.event-b.org/index.php/Event-B:About" title="Event-B:About">About Event-B</a></li>
				<li id="disclaimer"><a href="http://wiki.event-b.org/index.php/Event-B:General_disclaimer" title="Event-B:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
		
	
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served in 0.245 secs. --><br /></body></html>
